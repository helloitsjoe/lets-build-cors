<html>
  <head>
    <title>CORS Example</title>
  </head>
  <body>
    <p>Make a request to http://localhost:3000/api:</p>
    <button id="button">Click me!</button>
    <pre id="response"></pre>
    <script>
      const button = document.getElementById('button');
      const response = document.getElementById('response');

      button.onclick = () => {
        fetch('http://localhost:3000/api', { method: 'POST', body: 'hi' })
          .then((res) => {
            if (res.ok) {
              return res.json();
            }
            throw new Error(`Error! Status: ${res.status}`);
          })
          .then((res) => {
            response.innerText = JSON.stringify(res, null, 2);
          })
          .catch((err) => {
            response.innerText = err.message;
          });
      };
    </script>
  </body>
</html>
